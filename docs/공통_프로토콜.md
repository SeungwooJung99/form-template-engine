```typescript
// ================================
// 공통 통신 프로토콜 정의
// ================================

/**
 * Boxwood → External 요청 데이터 구조
 */
interface FormRequestData {
    formType: 'user' | 'order' | 'settings' | 'invoice' | 'custom';
    userId: string;
    sessionId: string;
    timestamp: number;
    variables: Record<string, any>;
    config: {
        theme?: 'light' | 'dark';
        language?: 'ko' | 'en';
        readonly?: boolean;
        debug?: boolean;
    };
    callback?: {
        onReady?: boolean;
        onDestroy?: boolean;
        onSubmit?: boolean;
        onChange?: boolean;
    };
}

/**
 * External → Boxwood 응답 데이터 구조
 */
interface FormResponseData {
    success: boolean;
    formId: string;
    html: string;
    metadata: {
        templateId: string;
        version: string;
        variables: string[];
        requiredFields: string[];
    };
    error?: string;
}

/**
 * PostMessage 이벤트 타입
 */
type PostMessageEventType =
    | 'FORM_READY'           // Form 로딩 완료
    | 'FORM_DESTROY'         // Form 정리
    | 'FORM_SUBMIT'          // Form 제출
    | 'FORM_CHANGE'          // Form 데이터 변경
    | 'FORM_VALIDATE'        // Form 검증
    | 'FORM_ERROR'           // Form 오류
    | 'FORM_RESIZE'          // Form 크기 변경
    | 'BOXWOOD_COMMAND'      // Boxwood에서 External로 명령
    | 'EXTERNAL_RESPONSE';   // External에서 Boxwood로 응답

/**
 * PostMessage 데이터 구조
 */
interface PostMessageData {
    type: PostMessageEventType;
    source: 'boxwood' | 'external';
    formId: string;
    timestamp: number;
    data: any;
    error?: string;
}

/**
 * 생명주기 이벤트 데이터
 */
interface LifecycleEventData {
    event: 'onReady' | 'onDestroy' | 'onMount' | 'onUnmount';
    formId: string;
    metadata?: any;
    formData?: Record<string, any>;
    errors?: string[];
}

/**
 * Form 변경 이벤트 데이터
 */
interface FormChangeEventData {
    fieldName: string;
    oldValue: any;
    newValue: any;
    isValid: boolean;
    formData: Record<string, any>;
}

/**
 * Form 제출 이벤트 데이터
 */
interface FormSubmitEventData {
    formData: Record<string, any>;
    isValid: boolean;
    validationErrors: Record<string, string>;
}

// ================================
// 실제 구현 예시
// ================================

/**
 * Boxwood → External Form 요청 예시
 */
const exampleFormRequest: FormRequestData = {
    formType: 'user',
    userId: 'user-12345',
    sessionId: 'session-abc-123',
    timestamp: Date.now(),
    variables: {
        user: {
            name: '김개발자',
            email: 'developer@boxwood.com',
            avatar: '/images/avatar.jpg',
            role: 'admin'
        },
        company: {
            name: 'Boxwood Technology',
            address: '서울시 강남구',
            phone: '02-1234-5678'
        },
        form: {
            title: '사용자 정보 수정',
            readonly: false,
            requiredFields: ['name', 'email']
        }
    },
    config: {
        theme: 'light',
        language: 'ko',
        readonly: false,
        debug: false
    },
    callback: {
        onReady: true,
        onDestroy: true,
        onSubmit: true,
        onChange: true
    }
};

/**
 * External → Boxwood Form 응답 예시
 */
const exampleFormResponse: FormResponseData = {
    success: true,
    formId: 'user-form-12345',
    html: '<!DOCTYPE html><html>...</html>',
    metadata: {
        templateId: 'user-edit-form',
        version: '1.2.0',
        variables: ['user.name', 'user.email', 'company.name'],
        requiredFields: ['name', 'email']
    }
};

/**
 * PostMessage 이벤트 예시
 */
const examplePostMessage: PostMessageData = {
    type: 'FORM_READY',
    source: 'external',
    formId: 'user-form-12345',
    timestamp: Date.now(),
    data: {
        event: 'onReady',
        formHeight: 600,
        formData: {
            name: '김개발자',
            email: 'developer@boxwood.com'
        }
    }
};
```